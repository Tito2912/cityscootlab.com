const $$=(e,t=document)=>Array.from(t.querySelectorAll(e)),$=(e,t=document)=>t.querySelector(e),safeGTAG=(...e)=>{try{"function"==typeof window.gtag&&window.gtag(...e)}catch(e){}},setCookie=(e,t,n=365)=>{try{const a=24*n*60*60;document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${a}; Path=/; SameSite=Lax; Secure`}catch(e){}},getCookie=e=>{try{const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?decodeURIComponent(t[2]):null}catch(e){return null}},GA_ID="G-962GK50F4L",runWhenIdle=(e,t=1500)=>{if("undefined"==typeof window)return;const n=t=>{try{e(t)}catch(e){}};if("requestIdleCallback"in window)window.requestIdleCallback(e=>n(e),{timeout:t});else{const e={timeRemaining:()=>0};window.setTimeout(()=>n(e),t)}};try{const e=window.__CSL=window.__CSL||{};e.$$=e.$$||$$,e.$=e.$||$,e.runWhenIdle=e.runWhenIdle||runWhenIdle}catch(e){}!function(){try{const e=String((new Date).getFullYear());$$("[data-year]").forEach(t=>{t.textContent=e})}catch(e){}}(),function(){const e=$("#consent-banner");if(!e)return;const t="csl_consent",n="csl_consent_mem",a=$$("[data-open-consent]"),r=(()=>{let e=!1;return()=>{if(e)return;if(e=!0,document.querySelector("script[data-ga4]"))return;const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${GA_ID}`,t.setAttribute("data-ga4",GA_ID),document.head.appendChild(t)}})(),o=a=>{const o="granted"===a;o&&r(),setCookie(t,a,365);try{localStorage.setItem(n,a)}catch(e){}safeGTAG("consent","update",{ad_storage:o?"granted":"denied",ad_user_data:o?"granted":"denied",ad_personalization:o?"granted":"denied",analytics_storage:o?"granted":"denied"}),e.setAttribute("hidden","")},i=()=>{requestAnimationFrame(()=>e.removeAttribute("hidden"))};$$("[data-consent]").forEach(e=>{e.addEventListener("click",()=>{const t="grant"===e.getAttribute("data-consent")?"granted":"denied";o(t)},{passive:!0})}),a.forEach(e=>e.addEventListener("click",()=>i(),{passive:!0}));try{"open"===new URLSearchParams(location.search).get("consent")&&setTimeout(i,100)}catch(e){}let c=getCookie(t);try{c=c||localStorage.getItem(n)}catch(e){}"granted"===c||"denied"===c?o(c):setTimeout(i,400)}(),function(){const e=$(".nav-toggle"),t=$("#site-nav");e&&t&&(e.addEventListener("click",()=>{const t="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",String(!t))}),t.addEventListener("click",t=>{t.target.closest("a")&&null!==e.offsetParent&&e.setAttribute("aria-expanded","false")}));const n=$("[data-langmenu]");if(n){try{const e=(document.documentElement.lang||"en").slice(0,2).toUpperCase();n.textContent=e,n.setAttribute("aria-expanded","false")}catch(e){}n.addEventListener("click",e=>{e.preventDefault();const t=(document.documentElement.lang||"").toLowerCase().startsWith("fr");window.__langSwitch&&(t?window.__langSwitch.toEn():window.__langSwitch.toFr())},{passive:!1})}}(),function(){var e="csl_lang",t="csl_lang_redirect_v1",n={"/legal-notice":"/fr/mentions-legales","/legal-notice.html":"/fr/mentions-legales","/privacy-policy":"/fr/politique-de-confidentialite","/privacy-policy.html":"/fr/politique-de-confidentialite"},a={"/fr/mentions-legales":"/legal-notice","/fr/mentions-legales.html":"/legal-notice","/fr/politique-de-confidentialite":"/privacy-policy","/fr/politique-de-confidentialite.html":"/privacy-policy"};function r(t){setCookie(e,t,180);try{localStorage.setItem(e,t)}catch(e){}}function o(e){return n[e]?n[e]:"/"===e||"/index.html"===e?"/fr/":0===e.indexOf("/fr/")?e:("/fr"+e).replace(/\/{2,}/g,"/")}function i(e){if("/en"!==e&&0!==e.indexOf("/en/")||(e=e.replace(/^\/en(\/|$)/,"/")||"/"),a[e])return a[e];if(0===e.indexOf("/fr/")){var t=e.replace(/^\/fr(\/|$)/,"/");return"/index.html"===t?"/":t||"/"}return"/fr"===e||"/fr/index.html"===e?"/":e||"/"}function c(e,t,n,a){var r="fr"===e?o(t):i(t),c="en"===e?"/en":"",s="/"===r?"/":r;return(c?c+s:s).replace(/\/{2,}/g,"/")+(n||"")+(a||"")}function s(e){var n=window.location,a=c(e,n.pathname,n.search,n.hash);r(e);try{sessionStorage.setItem(t,"1")}catch(e){}a!==n.pathname+n.search+n.hash&&(window.location.href=a)}function d(){$$("[data-lang-switch]").forEach(function(e){e.addEventListener("click",function(t){var n=(e.getAttribute("data-lang-switch")||"").toLowerCase();"en"!==n&&"fr"!==n||(t.preventDefault(),s(n))})})}!function(){try{var e=new URL(window.location.href),n=(e.searchParams.get("lang")||e.searchParams.get("hl")||"").toLowerCase();if("en"===n||"fr"===n){r(n);try{sessionStorage.setItem(t,"1")}catch(e){}e.searchParams.delete("lang"),e.searchParams.delete("hl");var a=e.searchParams.toString(),o=a?"?"+a:"",i=c(n,e.pathname,o,e.hash||"");window.location.replace(i)}}catch(e){}}(),function(){try{var n=location.pathname||"/";if("1"===sessionStorage.getItem(t))return;var a=function(){var t=(getCookie(e)||"").toLowerCase();try{t=t||(localStorage.getItem(e)||"").toLowerCase()}catch(e){}return"en"===t||"fr"===t?t:""}();if("en"===a)return;if("fr"===a){if(0!==n.indexOf("/fr/")&&"/fr"!==n&&"/fr/index.html"!==n){sessionStorage.setItem(t,"1");var r=window.location,i=o(n)+(r.search||"")+(r.hash||"");if(i!==r.pathname+r.search+r.hash)return window.location.replace(i)}return}var c=(navigator.languages||[navigator.language||""]).some(function(e){return/^fr(\b|-|_)/i.test(String(e||""))}),s=0===n.indexOf("/fr/")||"/fr"===n||"/fr/index.html"===n;if(c&&!s){sessionStorage.setItem(t,"1");var d=window.location,l=o(n)+(d.search||"")+(d.hash||"");l!==d.pathname+d.search+d.hash&&window.location.replace(l)}}catch(e){}}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d(),function(){try{var e=location.pathname||"/";if("/en"===e||0===e.indexOf("/en/")){var t=i(e)+(location.search||"")+(location.hash||"");t!==location.pathname+location.search+location.hash&&history.replaceState(null,"",t)}}catch(e){}}(),window.__langSwitch={toEn:function(){s("en")},toFr:function(){s("fr")}}}(),function(){if("undefined"==typeof document)return;let e=!1;const t=()=>{if(e)return;if(e=!0,document.querySelector("script[data-enhancements]"))return;const t=document.createElement("script");t.defer=!0,t.src="/assets/enhancements.min.js",t.setAttribute("data-enhancements","true"),document.head.appendChild(t)};runWhenIdle(t,1200);try{["pointerdown","keydown","scroll"].forEach(e=>{window.addEventListener(e,t,{once:!0,passive:!0})})}catch(e){}}();