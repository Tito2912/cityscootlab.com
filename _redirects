# ============================
# Cityscootlab - _redirects
# SAFE ordering to avoid loops
# ============================

#############################################
# 1) SAFE GUARD - lock French subtree first #
#    Disabled to avoid /fr/ redirect loop   #
#############################################
#/fr        /fr/         301!

#############################################
# 1b) Serve French home without redirect    #
#############################################
/fr/      /fr/index.html   200!
# Host-specific safeguard for Semrush hreflang check (bypasses cached 301 loops)
https://cityscootlab.com/fr/    /fr/index.html   200!
https://www.cityscootlab.com/fr/    /fr/index.html   200!

#########################################################
# 2) English override path - bypass language redirect   #
#########################################################
/en/*      /:splat      200
/en        /            200

#########################################################
# 3) Language-based redirect - ROOT ONLY (no subpaths!) #
#########################################################
/      /       200!   Cookie=csl_lang=en
/      /fr/   302!   Language=fr
/      /fr/   302!   Language=fr-fr
/      /fr/   302!   Language=fr-ca
/      /fr/   302!   Language=fr-be
/      /fr/   302!   Language=fr-ch
/      /fr/   302!   Language=fr-lu

########################################
# 4) Pretty URLs / cleanups            #
########################################
/index.html        /       301!
/fr/index.html     /fr/    301!
/blog.html         /blog                     301!
/blog-1.html       /blog-1                   301!
/legal-notice.html /legal-notice             301!
/privacy-policy.html /privacy-policy         301!
/fr/blog.html      /fr/blog                  301!
/fr/blog-1.html    /fr/blog-1                301!
/fr/mentions-legales.html /fr/mentions-legales 301!
/fr/politique-de-confidentialite.html /fr/politique-de-confidentialite 301!

########################################
# 4b) Serve pretty URLs without redirects
########################################
/blog                      /blog.html                       200!
/blog-1                    /blog-1.html                     200!
/legal-notice              /legal-notice.html               200!
/privacy-policy            /privacy-policy.html             200!
/fr/blog                   /fr/blog.html                    200!
/fr/blog-1                 /fr/blog-1.html                  200!
/fr/mentions-legales       /fr/mentions-legales.html        200!
/fr/politique-de-confidentialite /fr/politique-de-confidentialite.html 200!

########################################
# 4c) French subtree passthrough (after clean URLs to keep 301s active)
########################################
/fr/*      /fr/:splat   200

########################################
# 4d) Host + protocol canonicalization #
########################################
https://www.cityscootlab.com/index.html        https://cityscootlab.com/                  301!
http://www.cityscootlab.com/index.html         https://cityscootlab.com/                  301!
https://cityscootlab.com/index.html            https://cityscootlab.com/                  301!
http://cityscootlab.com/index.html             https://cityscootlab.com/                  301!

https://www.cityscootlab.com/fr/index.html     https://cityscootlab.com/fr/               301!
http://www.cityscootlab.com/fr/index.html      https://cityscootlab.com/fr/               301!
https://cityscootlab.com/fr/index.html         https://cityscootlab.com/fr/               301!
http://cityscootlab.com/fr/index.html          https://cityscootlab.com/fr/               301!

https://www.cityscootlab.com/*.html            https://cityscootlab.com/:splat            301!
http://www.cityscootlab.com/*.html             https://cityscootlab.com/:splat            301!
https://cityscootlab.com/*.html                https://cityscootlab.com/:splat            301!
http://cityscootlab.com/*.html                 https://cityscootlab.com/:splat            301!

http://www.cityscootlab.com/*                  https://cityscootlab.com/:splat            301!
http://cityscootlab.com/*                      https://cityscootlab.com/:splat            301!
https://www.cityscootlab.com/*                 https://cityscootlab.com/:splat            301!

########################################
# 5) IndexNow key - ne pas rediriger   #
########################################
/fc1887717a84459fabe3f4984e2669d7.txt  /fc1887717a84459fabe3f4984e2669d7.txt  200
